_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[68],{"/l/T":function(e,t,r){e.exports={"u-underline-link":"RegisterForm_u-underline-link__V4Kmb","u-white":"RegisterForm_u-white__1dz0d","u-h1":"RegisterForm_u-h1__3ml-b","u-h2":"RegisterForm_u-h2__Zyt91","u-h3":"RegisterForm_u-h3__3ywsp","u-h4":"RegisterForm_u-h4__wHAn9","u-h5":"RegisterForm_u-h5__2_Pa3","u-h6":"RegisterForm_u-h6__2QSFO",form:"RegisterForm_form__Cpejf",submitted:"RegisterForm_submitted__1TxjJ",formElement:"RegisterForm_formElement__18n2j",input:"RegisterForm_input__4G6px",submit:"RegisterForm_submit__1sWPe",checkbox:"RegisterForm_checkbox__25Ln-",button:"RegisterForm_button__3byLA",footer:"RegisterForm_footer__3iA1H"}},"0lZZ":function(e,t,r){"use strict";var n=r("nKUr"),i=r("rePB"),a=r("q1tI"),s=r("TSYQ"),o=r.n(s),c=r("lH72"),u=r.n(c);t.a=function(e){var t=e.id,r=e.required,s=e.readOnly,c=e.disabled,l=e.checked,d=e.onClick,m=e.onChange,h=(e.value,e.title),b=e.className,p=e.errors,j=e.register,f=Object(a.useState)(!0),_=f[0],O=f[1],g=Object(a.useState)(),v=g[0],y=g[1];Object(a.useEffect)((function(){p&&p.message?(O(!1),y(p.message)):_||(O(!0),y())}),[p]);var w=o()(u.a.errorText);return Object(n.jsx)("div",{className:o()(u.a.checkbox,b,Object(i.a)({},u.a.hasError,v)),children:Object(n.jsxs)("label",{htmlFor:t,children:[Object(n.jsx)("input",{name:t,id:t,type:"checkbox",required:r,readOnly:s,disabled:c,checked:!!l,onClick:d,onChange:m,ref:null!==j&&void 0!==j?j:null,value:t}),Object(n.jsx)("span",{className:u.a.title,dangerouslySetInnerHTML:{__html:h}}),v?Object(n.jsx)("div",{className:w,id:"".concat(t,"-errormessage"),children:Object(n.jsx)("span",{role:"alert",children:v})}):null]})})}},"7+kP":function(e,t,r){e.exports={"u-underline-link":"PageTitle_u-underline-link__Pepte","u-white":"PageTitle_u-white__2dp_N","u-h1":"PageTitle_u-h1__2pTOu","u-h2":"PageTitle_u-h2__1anAB","u-h3":"PageTitle_u-h3__2lFwk","u-h4":"PageTitle_u-h4__3M6z2","u-h5":"PageTitle_u-h5__FRhzr","u-h6":"PageTitle_u-h6__2I_Gt",title:"PageTitle_title__2q5_r"}},BsWD:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("a3WO");function i(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},Dsvi:function(e,t,r){"use strict";r.r(t);var n=r("nKUr"),i=r("KQm4"),a=r("o0o1"),s=r.n(a),o=r("rePB"),c=r("HaE+"),u=r("q1tI"),l=r("Blra"),d=r("NKCw"),m=r("8wsC"),h=r("TSYQ"),b=r.n(h),p=r("YFqc"),j=r.n(p),f=r("NQls"),_=r("MURI"),O=r("2SAM"),g=r("cDEJ"),v=r.n(g),y=r("2wV1"),w=r("20a2"),x=r("/l/T"),N=r.n(x),T=r("0lZZ"),R=r("mM6L"),A=Object(O.e)("Email",v.a),F=Object(O.j)({firstName:Object(O.n)(Object(O.m)()),lastName:Object(O.n)(Object(O.m)()),email:A,country:Object(O.n)(Object(O.m)()),phone:Object(O.n)(Object(O.m)()),password:Object(O.l)(Object(O.m)(),8,40),passwordconfirm:Object(O.l)(Object(O.m)(),8,40),policy:Object(O.f)("policy"),city:Object(O.o)(),street:Object(O.o)(),postalcode:Object(O.o)()});var P=function(){var e=Object(u.useState)({submitted:!1,submitting:!1,info:{error:!1,msg:null}}),t=e[0],r=e[1],i=Object(u.useState)(),a=i[0],h=i[1],p=Object(d.c)({mode:"onChange"}),g=p.register,v=p.errors,x=p.handleSubmit,A=p.setValue,P=p.watch;Object(u.useEffect)((function(){g({name:"phone"},{required:!0})}),[g]);var k=Object(u.useRef)({}),q=Object(u.useState)(!1),E=q[0],S=q[1];k.current=P("password","");var C=Object(_.useAuthUser)(),I=Object(w.useRouter)(),U=function(e,t){"success"===e.status?(r({submitted:!0,submitting:!1,info:{error:!1,msg:"Almost done... Instructions on how to activate your account have been emailed to you. Please check your email."}}),Object(y.a)({event:"formSubmissionRegister",page:I.asPath,enhanced_conversion_data:{email:null===t||void 0===t?void 0:t.email}})):r({info:{error:!0,msg:e.error}})};function L(){return(L=Object(c.a)(s.a.mark((function e(t){var r,n,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={firstName:t.firstname,lastName:t.lastname,phone:t.phone,country:t.country,city:t.city,street:t.street,postalcode:t.postalcode,email:t.email,password:t.password,passwordconfirm:t.passwordconfirm,policy:t.policy},e.prev=1,Object(O.b)(r,F),e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(1),n=e.t0.key,i=e.t0.value,e.t0.type,console.log("FormData: ".concat(n," is invalid").concat(i)),e.abrupt("return");case 10:return e.next=12,C.getIdToken();case 12:a=e.sent,fetch("/api/user/register",{method:"POST",headers:{Authorization:a,"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){U(e,t)})).catch((function(e){U(e)}));case 14:case"end":return e.stop()}}),e,null,[[1,5]])})))).apply(this,arguments)}return Object(n.jsxs)(n.Fragment,{children:[!t.submitted&&Object(n.jsx)(f.a,{children:"Register"}),Object(n.jsxs)("div",{className:b()(N.a.form,Object(o.a)({},N.a.submitted,t.submitted&&t.info.msg)),children:[!t.submitted&&Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{className:N.a.formElement,onSubmit:x((function(e){return L.apply(this,arguments)})),children:[Object(n.jsx)(l.a,{id:"firstname",placeholder:"First name",type:"text",label:"First name",icon:"User",required:!0,errors:null===v||void 0===v?void 0:v.firstname,register:g({required:"This is a required field"}),className:N.a.input}),Object(n.jsx)(l.a,{id:"lastname",placeholder:"Last name",type:"text",label:"Last name",icon:"User",required:!0,errors:null===v||void 0===v?void 0:v.lastname,register:g({required:"This is a required field"}),className:N.a.input}),Object(n.jsx)(l.a,{id:"email",placeholder:"Email address",type:"email",label:"Email",icon:"Envelope",required:!0,errors:null===v||void 0===v?void 0:v.email,autocomplete:"username",register:g({required:"This is a required field",pattern:'/^(([^<>()[]\\.,;:s@"]+(.[^<>()[]\\.,;:s@"]+)*)|(".+"))@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}])|(([a-zA-Z-0-9]+.)+[a-zA-Z]{2,}))$/'}),className:N.a.input}),Object(n.jsx)(l.a,{id:"country",placeholder:"Country",type:"text",label:"Country",icon:"Flag",required:!0,errors:null===v||void 0===v?void 0:v.country,register:g({required:"This is a required field"}),className:N.a.input}),Object(n.jsx)(R.a,{placeholder:"Phone number",label:"Phone number*",required:!0,value:a,errors:null===v||void 0===v?void 0:v.phone,onChange:function(e){A("phone",e),h(e)}}),Object(n.jsx)(l.a,{id:"password",placeholder:"Password",type:"password",label:"Password",icon:"LockSimple",required:!0,errors:null===v||void 0===v?void 0:v.password,autocomplete:"new-password",register:g({required:"You must specify a password",minLength:{value:8,message:"Password must have at least 8 characters"}}),className:N.a.input}),Object(n.jsx)(l.a,{id:"passwordconfirm",placeholder:"Confirm password",type:"password",label:"Confirm password",icon:"LockSimple",required:!0,errors:null===v||void 0===v?void 0:v.passwordconfirm,autocomplete:"new-password",register:g({validate:function(e){return e===k.current||"The passwords do not match"}}),className:N.a.input}),Object(n.jsxs)("div",{className:N.a.submit,children:[Object(n.jsx)(T.a,{id:"policy",checked:E,onChange:function(){return S(!E)},title:"I have read and accepted the <a href='/page/privacy-policy'>Privacy Policy</a>",className:N.a.checkbox,register:g({required:"This is a required field"}),errors:null===v||void 0===v?void 0:v.policy}),Object(n.jsx)(m.a,{color:"default",buttonType:"submit",className:N.a.button,children:"Register"})]})]})}),t.info.msg&&Object(n.jsx)("div",{className:N.a.success,children:Object(n.jsx)("p",{className:"u-h6",children:t.info.msg})})]}),Object(n.jsx)("div",{className:N.a.footer,children:Object(n.jsx)(j.a,{href:"/login",children:Object(n.jsxs)("a",{children:["Already have an account? ",Object(n.jsx)("span",{children:"Sign in"})]})})})]})},k=r("mqFp"),q=r("LeIC");t.default=Object(_.withAuthUser)({whenAuthed:_.AuthAction.RENDER,whenUnauthedBeforeInit:_.AuthAction.RETURN_NULL,whenUnauthedAfterInit:_.AuthAction.RENDER})((function(){var e=[].concat(Object(i.a)(k.a.DEFAULT_SEO),[{attributes:null,content:"Register - Hyer Aviation",tag:"title"},{attributes:{property:"og:title",content:"Register - Hyer Aviation"},content:null,tag:"meta"}]);return Object(n.jsx)("div",{children:Object(n.jsx)(q.a,{loggedIn:!1,title:"Hyer\xae Client Dashboard",seo:e,children:Object(n.jsx)(P,{})})})}))},KQm4:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("a3WO");var i=r("BsWD");function a(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},NQls:function(e,t,r){"use strict";var n=r("nKUr"),i=r("TSYQ"),a=r.n(i),s=r("7+kP"),o=r.n(s);t.a=function(e){var t=e.children;return Object(n.jsx)("h2",{className:a()(o.a.title,"u-h2"),children:t})}},a3WO:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},"c05+":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r("Dsvi")}])},cDEJ:function(e,t,r){"use strict";var n=/.+\@.+\..+/;e.exports=function(e){return n.test(e)}}},[["c05+",1,2,4,5,0,3,6,8,9,10,13,14,15]]]);